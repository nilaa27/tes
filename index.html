<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Speed Test Dashboard</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
        }
        
        body {
            background-color: #f8f8f8;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            padding: 20px;
        }
        
        .dashboard {
            background-color: white;
            border-radius: 12px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);
            width: 100%;
            max-width: 340px;
            padding: 25px;
        }
        
        .speed-bars {
            display: flex;
            justify-content: space-between;
            margin-bottom: 25px;
        }
        
        .speed-bar {
            display: flex;
            flex-direction: column;
            align-items: center;
            width: 30px;
        }
        
        .speed-value {
            font-size: 12px;
            font-weight: 600;
            margin-bottom: 5px;
        }
        
        .bar {
            width: 100%;
            height: 60px;
            background-color: #e0e0e0;
            border-radius: 4px;
            position: relative;
            overflow: hidden;
        }
        
        .bar-fill {
            position: absolute;
            bottom: 0;
            width: 100%;
            background-color: #4CAF50;
            border-radius: 4px;
        }
        
        .ping-jitter {
            display: flex;
            justify-content: space-around;
            margin: 20px 0;
        }
        
        .metric {
            text-align: center;
        }
        
        .metric-name {
            font-size: 13px;
            color: #777;
            margin-bottom: 3px;
        }
        
        .metric-value {
            font-size: 22px;
            font-weight: 600;
        }
        
        .isp-info {
            background-color: #f5f5f5;
            border-radius: 8px;
            padding: 12px 15px;
            margin-bottom: 25px;
        }
        
        .isp-name {
            font-weight: 600;
            font-size: 14px;
            margin-bottom: 3px;
        }
        
        .ip-address {
            color: #4285F4;
            font-family: 'Roboto Mono', monospace;
            font-size: 13px;
            margin-bottom: 3px;
        }
        
        .provider {
            color: #777;
            font-size: 12px;
        }
        
        .speed-results {
            display: flex;
            justify-content: space-around;
            text-align: center;
        }
        
        .download {
            color: #4CAF50;
        }
        
        .upload {
            color: #F44336;
        }
        
        .speed-value-large {
            font-size: 32px;
            font-weight: 600;
            margin-bottom: 3px;
        }
        
        .speed-label {
            font-size: 12px;
            color: #777;
        }
    </style>
</head>
<body>
    <div class="dashboard">
        <div class="speed-bars">
            <div class="speed-bar">
                <div class="speed-value">10</div>
                <div class="bar">
                    <div class="bar-fill" style="height: 10%;"></div>
                </div>
            </div>
            <div class="speed-bar">
                <div class="speed-value">25</div>
                <div class="bar">
                    <div class="bar-fill" style="height: 25%;"></div>
                </div>
            </div>
            <div class="speed-bar">
                <div class="speed-value">5</div>
                <div class="bar">
                    <div class="bar-fill" style="height: 5%;"></div>
                </div>
            </div>
            <div class="speed-bar">
                <div class="speed-value">50</div>
                <div class="bar">
                    <div class="bar-fill" style="height: 50%;"></div>
                </div>
            </div>
            <div class="speed-bar">
                <div class="speed-value">0</div>
                <div class="bar">
                    <div class="bar-fill" style="height: 0%;"></div>
                </div>
            </div>
            <div class="speed-bar">
                <div class="speed-value">100</div>
                <div class="bar">
                    <div class="bar-fill" style="height: 100%;"></div>
                </div>
            </div>
        </div>
        
        <div class="ping-jitter">
            <div class="metric">
                <div class="metric-name">PING</div>
                <div class="metric-value" id="ping">19 ms</div>
            </div>
            <div class="metric">
                <div class="metric-name">JITTER</div>
                <div class="metric-value" id="jitter">2 ms</div>
            </div>
        </div>
        
        <div class="isp-info">
            <div class="isp-name" id="isp-name">- IHS Ooredoo</div>
            <div class="ip-address" id="ip-address">114.5.110.146</div>
            <div class="provider" id="provider">PT. Indosat Tbk. Surabaya</div>
        </div>
        
        <div class="speed-results">
            <div class="download">
                <div class="speed-value-large" id="download-speed">66.2</div>
                <div class="speed-label">DOWNLOAD<br>Mbps</div>
            </div>
            <div class="upload">
                <div class="speed-value-large" id="upload-speed">-</div>
                <div class="speed-label">UPLOAD<br>Mbps</div>
            </div>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Function to fetch IP information from ipapi.co
            async function fetchIPInfo() {
                try {
                    const response = await fetch('https://ipapi.co/json/');
                    const data = await response.json();
                    
                    document.getElementById('ip-address').textContent = data.ip;
                    document.getElementById('isp-name').textContent = `- ${data.org || 'Unknown ISP'}`;
                    
                    let providerText = '';
                    if (data.asn) providerText += data.asn + ' ';
                    if (data.city) providerText += data.city;
                    document.getElementById('provider').textContent = providerText.trim() || 'Unknown location';
                    
                } catch (error) {
                    console.error('Error fetching IP info:', error);
                    document.getElementById('ip-address').textContent = 'Unable to detect';
                    document.getElementById('isp-name').textContent = '- Unknown ISP';
                    document.getElementById('provider').textContent = 'Unknown location';
                }
            }
            
            // Function to simulate speed test
            function simulateSpeedTest() {
                // Randomize ping and jitter slightly
                const ping = 19 + Math.floor(Math.random() * 5) - 2;
                const jitter = 2 + Math.floor(Math.random() * 3) - 1;
                
                document.getElementById('ping').textContent = `${ping} ms`;
                document.getElementById('jitter').textContent = `${jitter} ms`;
                
                // Simulate download test
                let downloadProgress = 0;
                const downloadInterval = setInterval(() => {
                    downloadProgress += Math.random() * 15;
                    if (downloadProgress > 66.2) downloadProgress = 66.2;
                    document.getElementById('download-speed').textContent = downloadProgress.toFixed(1);
                    
                    if (downloadProgress >= 66.2) {
                        clearInterval(downloadInterval);
                        // Simulate upload test
                        let uploadProgress = 0;
                        const uploadInterval = setInterval(() => {
                            uploadProgress += Math.random() * 8;
                            if (uploadProgress > 30) uploadProgress = 30;
                            document.getElementById('upload-speed').textContent = uploadProgress.toFixed(1);
                            
                            if (uploadProgress >= 30) {
                                clearInterval(uploadInterval);
                            }
                        }, 200);
                    }
                }, 200);
            }
            
            // Initialize
            fetchIPInfo();
            simulateSpeedTest();
        });
    </script>
</body>
</html>