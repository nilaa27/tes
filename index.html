<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Speed Test Dashboard</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background-color: #f5f5f5;
            color: #333;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            padding: 20px;
        }
        
        .dashboard {
            background-color: white;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
            width: 100%;
            max-width: 400px;
            padding: 25px;
            text-align: center;
        }
        
        .title {
            font-size: 24px;
            font-weight: bold;
            margin-bottom: 30px;
            color: #2c3e50;
        }
        
        .ping-jitter {
            display: flex;
            justify-content: space-around;
            margin-bottom: 30px;
        }
        
        .metric {
            text-align: center;
        }
        
        .metric-name {
            font-size: 16px;
            color: #7f8c8d;
            margin-bottom: 5px;
        }
        
        .metric-value {
            font-size: 28px;
            font-weight: bold;
            color: #2c3e50;
        }
        
        .isp-info {
            background-color: #f8f9fa;
            border-radius: 10px;
            padding: 15px;
            margin-bottom: 30px;
            text-align: left;
        }
        
        .isp-name {
            font-weight: bold;
            margin-bottom: 5px;
            color: #2c3e50;
        }
        
        .ip-address {
            color: #3498db;
            font-family: monospace;
            margin-bottom: 5px;
        }
        
        .provider {
            color: #7f8c8d;
            font-size: 14px;
        }
        
        .speed-metrics {
            display: flex;
            justify-content: space-around;
        }
        
        .speed-metric {
            text-align: center;
        }
        
        .speed-value {
            font-size: 36px;
            font-weight: bold;
            color: #2c3e50;
            margin-bottom: 5px;
        }
        
        .speed-label {
            font-size: 14px;
            color: #7f8c8d;
        }
        
        .download {
            color: #27ae60;
        }
        
        .upload {
            color: #e74c3c;
        }
    </style>
</head>
<body>
    <div class="dashboard">
        <div class="title">SPEED TEST</div>
        
        <div class="ping-jitter">
            <div class="metric">
                <div class="metric-name">PING</div>
                <div class="metric-value" id="ping">19 ms</div>
            </div>
            <div class="metric">
                <div class="metric-name">JITTER</div>
                <div class="metric-value" id="jitter">2 ms</div>
            </div>
        </div>
        
        <div class="isp-info">
            <div class="isp-name" id="isp-name">- IHS Ooredoo</div>
            <div class="ip-address" id="ip-address">114.5.110.146</div>
            <div class="provider" id="provider">PT. Indosat Tbk. Surabaya</div>
        </div>
        
        <div class="speed-metrics">
            <div class="speed-metric download">
                <div class="speed-value" id="download-speed">66.2</div>
                <div class="speed-label">DOWNLOAD<br>Mbps</div>
            </div>
            <div class="speed-metric upload">
                <div class="speed-value" id="upload-speed">-</div>
                <div class="speed-label">UPLOAD<br>Mbps</div>
            </div>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Fungsi untuk mendapatkan informasi IP dan ISP
            async function fetchIPInfo() {
                try {
                    const response = await fetch('https://ipapi.co/json/');
                    const data = await response.json();
                    
                    document.getElementById('ip-address').textContent = data.ip;
                    document.getElementById('isp-name').textContent = `- ${data.org || 'Unknown ISP'}`;
                    document.getElementById('provider').textContent = `${data.asn || 'Unknown'} ${data.city ? data.city : ''}`;
                } catch (error) {
                    console.error('Error fetching IP info:', error);
                    document.getElementById('ip-address').textContent = 'Unable to detect';
                    document.getElementById('isp-name').textContent = '- Unknown ISP';
                    document.getElementById('provider').textContent = 'Unknown location';
                }
            }
            
            // Fungsi untuk melakukan speed test (simulasi)
            function runSpeedTest() {
                // Reset values
                document.getElementById('download-speed').textContent = '...';
                document.getElementById('upload-speed').textContent = '...';
                document.getElementById('ping').textContent = '...';
                document.getElementById('jitter').textContent = '...';
                
                // Simulate speed test (in a real app, you would use a proper speed test library)
                setTimeout(() => {
                    document.getElementById('ping').textContent = Math.floor(Math.random() * 30) + ' ms';
                    document.getElementById('jitter').textContent = Math.floor(Math.random() * 5) + ' ms';
                    
                    // Simulate download test
                    let downloadProgress = 0;
                    const downloadInterval = setInterval(() => {
                        downloadProgress += Math.random() * 10;
                        document.getElementById('download-speed').textContent = downloadProgress.toFixed(1);
                        
                        if (downloadProgress >= 60 + Math.random() * 30) {
                            clearInterval(downloadInterval);
                            // Simulate upload test
                            let uploadProgress = 0;
                            const uploadInterval = setInterval(() => {
                                uploadProgress += Math.random() * 5;
                                document.getElementById('upload-speed').textContent = uploadProgress.toFixed(1);
                                
                                if (uploadProgress >= 20 + Math.random() * 15) {
                                    clearInterval(uploadInterval);
                                }
                            }, 200);
                        }
                    }, 200);
                }, 1000);
            }
            
            // Jalankan fungsi saat halaman dimuat
            fetchIPInfo();
            runSpeedTest();
            
            // Tombol refresh bisa ditambahkan di sini
        });
    </script>
</body>
</html>